{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/application/config/swagger.js","webpack:///./src/application/database/index.js","webpack:///./src/application/documentation/index.js","webpack:///./src/application/middlewares/error-handler.js","webpack:///./src/application/middlewares/index.js","webpack:///./src/application/middlewares/restricted-access.js","webpack:///./src/controllers/api/index.js","webpack:///./src/controllers/api/lines/index.js","webpack:///./src/controllers/api/plays/index.js","webpack:///./src/controllers/api/users/index.js","webpack:///./src/controllers/index.js","webpack:///./src/database.js","webpack:///./src/index.js","webpack:///./src/models/lines/index.js","webpack:///./src/models/lines/schema.js","webpack:///./src/models/plays/index.js","webpack:///./src/models/plays/schema.js","webpack:///./src/models/users/index.js","webpack:///./src/models/users/schema.js","webpack:///./src/utils/access.js","webpack:///external \"@babel/runtime/helpers/asyncToGenerator\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"sequelize\"","webpack:///external \"swagger-jsdoc\"","webpack:///external \"swagger-ui-express\""],"names":["swaggerConfig","definition","openapi","info","title","version","components","securitySchemes","ApiKeyAuth","type","name","security","securityDefinitions","basicAuth","apis","database","dbConfig","user","password","host","forceCleanDatabase","db","Sequelize","dialect","query","raw","onConnect","authenticate","sync","force","console","log","Documentation","app","swaggerSpec","swaggerJSDoc","use","swaggerUi","serve","setup","asyncHandler","controller","req","res","next","Promise","resolve","err","error","toString","sendStatus","send","socketHandler","msg","Middlewares","bodyParser","urlencoded","json","cors","header","method","end","getHeader","headers","token","status","verifyToken","id","userId","PlaysController","LinesController","UsersController","router","express","Router","get","playId","params","LinesModel","data","post","body","txt","order","lineId","put","result","PlaysModel","restrictedAccess","patch","googleId","UsersModel","Controllers","Api","connectionLimit","port","process","env","PORT","ConnectDatabase","server","http","createServer","listen","create","Schema","getByUserId","findAll","where","getByPlayId","update","remove","destroy","require","DataTypes","define","STRING","INTEGER","createPlay","PlaySchema","getPlays","updatePlay","deletePlay","Play","createUser","username","UserSchema","updateUser","deleteUser","getUserByEmailAndPassword","findOne","getIfUserExistsByGoogleId","registerNewUserByGoogleId","User","secret","decodeToken","jwt","decode","createToken","sign","callback","verify"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export const swaggerConfig = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'Test API',\n      version: '1.0.0',\n    },\n    components: {\n      securitySchemes: {\n        ApiKeyAuth: {\n          type: 'apiKey',\n          name: 'x-access-token',\n          in: 'header',\n        },\n      },\n    },\n    security: [\n      { ApiKeyAuth: [] },\n    ],\n    securityDefinitions: {\n        basicAuth: {\n            type: 'basic'\n        },\n    },\n  },\n  // Path to the API docs\n  apis: ['./src/controllers/**/*.js', './src/controllers/**/*.yml'],\n};\n\n","import { Sequelize } from 'sequelize';\nimport dbConfig from '../../database';\n\nconst { database, user, password, host, forceCleanDatabase } = dbConfig;\n\nexport const db = new Sequelize(database, user, password, {\n\thost,\n\tdialect: 'mysql',\n\tquery: { raw: true }\n});\n\nexport default async (onConnect) => {\n\ttry {\n\t\tawait db.authenticate();\n\t\tdb.sync({ force: forceCleanDatabase });\n\t\tonConnect();\n\t\tconsole.log('Database connection OK!');\n\t} catch (error) {\n\t\tconsole.log('Unable to connect to the database:');\n\t}\n}","import swaggerJSDoc from \"swagger-jsdoc\";\nimport swaggerUi from \"swagger-ui-express\";\nimport { swaggerConfig, options } from \"../config/swagger\";\n\nconst Documentation = (app) => {\n  // JSON of specs\n  const swaggerSpec = swaggerJSDoc(swaggerConfig);\n\n  // Api entrypoint\n  app.use(\"/docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\n};\n\nexport default Documentation;\n","/*Tenemos una función que recibe como parámetro la función de cada controlador,\nla ejecuta (resolve)\ny si  hay algún error, lo mostrará por consola y lanzará un 500\n*/\n\nexport const asyncHandler = controller => (req, res, next) => Promise\n  .resolve(controller(req, res, next))\n  .catch((err) => {\n    console.error('Request error:' + err.toString());\n    if (err) return res.sendStatus(500).send();\n});\n \nexport const socketHandler = controller => msg => Promise\n  .resolve(controller(msg))\n  .catch((err) => {\n    console.error('Socket error:' + err);\n});","import cors from 'cors';\nimport bodyParser from 'body-parser';\n\nconst Middlewares = (app) => {\n    app.use(bodyParser.urlencoded());\n    app.use(bodyParser.json());\n    app.use(cors()) // Use this after the variable declaration\n    app.use(function (req, res, next) {\n        res.header('Access-Control-Allow-Origin', '*');\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        res.header('Access-Control-Allow-Credentials', true);\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');\n    \n        if (req.method === 'OPTIONS') {\n            res.end();\n        } else {\n            next();\n        }\n    });\n};\n\nexport default Middlewares;","import { verifyToken } from '../../utils/access';\nexport const getHeader = (req, header) => req.headers[header];\n\nexport default (req, res, next) => {\n  const token = getHeader(req, 'x-access-token');\n\n  if (!token) {\n    return res.status(400).send('No token provided.');\n  }\n  return verifyToken(token, (err, { id } = {}) => {\n    if (err) {\n      return res.status(401).send('Failed to authenticate token.');\n    }\n\n    if (!id) {\n      return res.status(403).send('Wrong credentials');\n    }\n    req.userId = id;\n    return next();\n  });\n}","import UsersController from './users';\nimport PlaysController from './plays';\nimport LinesController from './lines';\n\n\nexport default function (app) {\n\n  app.use('/plays', PlaysController);\n  app.use('/lines', LinesController);\n\n  // Private\n  app.use('/users', UsersController);\n\n  app.use('/', (req, res) => res.send(`Working like a charmii ٩(^‿^)۶`));\n\n}\n","import express from 'express';\nimport * as LinesModel from \"@Models/lines\";\nimport { asyncHandler } from \"@Middlwares/error-handler\";\nimport restrictedAccess from \"@Middlwares/restricted-access\";\n\nconst router = express.Router();\n\nrouter.get(\"/:playId\", asyncHandler(async (req, res) => {\n  const { params: { playId } } = req;\n  const data = await LinesModel.getByPlayId(playId);\n  res.send(data);\n}));\n\n\nrouter.post(\"/\", asyncHandler(async (req, res) => {\n  const { body: { txt, playId, order } } = req;\n  await LinesModel.create(txt, playId);\n  res.send('Line creada con éxito');\n}));\n\nrouter.delete(\"/:lineId\", asyncHandler(async (req, res) => {\n  const { params: { lineId } } = req;\n  console.log('*******************');\n  console.log(lineId);\n  await LinesModel.remove(lineId);\n  res.send('Play borrado con éxito');\n}));\n\n\nrouter.put(\"/\", asyncHandler(async (req, res) => {\n  const { body: { txt, order, lineId } } = req;\n  try {\n    const result = await LinesModel.update(txt, order, lineId);\n    console.log(result);\n  } catch (err) {\n    console('error', err);\n  }\n  res.send('Line actualizada con éxito');\n}));\n\n///////////////////\n\nexport default router;\n","import express from 'express';\nimport * as PlaysModel from \"@Models/plays\";\nimport { asyncHandler } from \"@Middlwares/error-handler\";\nimport restrictedAccess from \"@Middlwares/restricted-access\";\n\nconst router = express.Router();\n\nrouter.get(\"/getPlays\", asyncHandler(async (req, res) => {\n  const { query: { userId } } = req;\n  const data = await PlaysModel.getPlays(userId);\n  res.send(data);\n}));\n\n\n\nrouter.post(\"/create\", asyncHandler(async (req, res) => {\n  const { body: { name, userId } } = req;\n  await PlaysModel.createPlay(name, userId)\n  res.send('Play creado con éxito');\n}));\n\n///////////////////\n\nrouter.get(\"/restricted-path\", restrictedAccess, asyncHandler(async (req, res) => {\n  res.send(`User id: ${req.userId}`);\n}));\n\nrouter.delete(\"/:id\", asyncHandler(async (req, res) => {\n  const { params: { id } } = req;\n  await PlaysModel.deletePlay(id);\n  res.send(`Play id: ${id} deleted`);\n}));\n\nrouter.patch(\"/:id\", restrictedAccess, async (req, res) => {\n  const { params: { id }, body } = req;\n  await PlaysModel.updatePlay(id, body);\n  res.send(`Play id: ${id} updated`);\n});\n\n\nexport default router;\n","import express from 'express';\nimport * as UsersModel from \"@Models/users\";\nimport { asyncHandler } from \"@Middlwares/error-handler\";\nimport restrictedAccess from \"@Middlwares/restricted-access\";\n\nconst router = express.Router();\n\nrouter.post(\"/googleIdExists\", asyncHandler(async (req, res) => {\n  const { body: { googleId } } = req;\n  const user = await UsersModel.getIfUserExistsByGoogleId(googleId);\n  res.send({ res: user ? true : false });\n}));\n\nrouter.post(\"/registerNewUserByGoogleId\", asyncHandler(async (req, res) => {\n  const { body: { googleId } } = req;\n  const user = await UsersModel.registerNewUserByGoogleId(googleId);\n  res.send({ res: user });\n}));\n\nexport default router;\n","import Api from './api';\n\nconst Controllers = (app) => {\n    Api(app);\n};\n\nexport default Controllers;","\nexport default {\n    host: 'eu-cdbr-west-03.cleardb.net',\n    user: 'b84312d7539c93',\n    password: '75989781',\n    database: 'heroku_36dfd48c92e173b',\n    connectionLimit: 10,\n    forceCleanDatabase: false\n};","import express from 'express';\nimport http from 'http';\nimport Middlewares from './application/middlewares';\nimport Controllers from './controllers';\nimport Documentation from './application/documentation';\nimport ConnectDatabase from './application/database';\nimport { asyncHandler } from \"@Middlwares/error-handler\";\n\n\nconst app = express();\nconst router = express.Router();\n\n/*\nHeroku utiliza la variable de entorno process.env.port para asignar el puerto donde se va ejecutar el servidor,\npor eso la hemos definido en esta plantilla\n*/\nconst port = process.env.PORT || 3005;\n\nDocumentation(app);\nMiddlewares(app);\nControllers(app);\nConnectDatabase(() => {\n    const server = http.createServer(app);\n    server.listen(port, () => console.log(`Server listening to http://localhost:${port}`));\n});\n\nrouter.get(\"/\", asyncHandler(async (req, res) => {\n    res.send(`working ٩(^‿^)۶`);\n}));\n","import Schema from './schema';\n\nexport const create = (txt, playId) => {\n    Schema.create({\n        txt, playId\n    });\n}\n\nexport const getByUserId = userId => Schema.findAll({\n    raw: true,\n    where: {\n        userId\n    }\n});\n\nexport const getByPlayId = playId => Schema.findAll({\n    raw: true,\n    where: {\n        playId\n    }\n});\n\nexport const update = (txt, order, lineId) => {\n    return Schema.update({ txt }, { where: { id: lineId } })\n}\n\n\nexport const remove = (lineId) => {\n    return Schema.destroy({ where: { id: lineId } })\n}\n\n","import { db } from '../../application/database';\nconst { DataTypes } = require('sequelize');\n\nexport default db.define('line', {\n\ttxt: DataTypes.STRING,\n\tplayId: DataTypes.INTEGER\n});\n","import PlaySchema from './schema';\n\nexport const createPlay = (name, userId) => {\n    PlaySchema.create({\n        name, userId\n    });\n}\n\nexport const getPlays = userId => PlaySchema.findAll({\n    raw: true,\n    where: {\n        userId\n    }\n});\n\nexport const updatePlay = (id, data) => PlaySchema.update(data, { where: { id } });\n\nexport const deletePlay = id => PlaySchema.destroy({ where: { id } });","import { db } from '../../application/database';\nconst { DataTypes } = require('sequelize');\n\nconst Play = db.define('play', {\n\tname: DataTypes.STRING,\n\tuserId: DataTypes.INTEGER\n});\n\nexport default Play;","import UserSchema from './schema';\n\nexport const createUser = (username, password) => UserSchema.create({\n    username,\n    password,\n});\n\nexport const updateUser = (id, data) => UserSchema.update(data, { where: { id } });\n\nexport const deleteUser = id => UserSchema.destroy({ where: { id } });\n\nexport const getUserByEmailAndPassword = (username, password) => UserSchema.findOne({\n    where: {\n        username,\n        password\n    }\n});\n\nexport const getIfUserExistsByGoogleId = (googleId) => UserSchema.findOne({\n    where: {\n        googleId\n    }\n});\n\nexport const registerNewUserByGoogleId = (googleId) => UserSchema.create({\n    googleId,\n});\n","import { db } from '../../application/database';\nconst { DataTypes } = require('sequelize');\n\nconst User = db.define('user', {\n\tpassword: DataTypes.STRING,\n\tusername: DataTypes.STRING,\n\tgoogleId: DataTypes.STRING,\n});\n\nexport default User;","import jwt from 'jsonwebtoken';\n\nconst secret = 'secret';\n\nexport const decodeToken = jwt.decode;\n\nexport const createToken = data => jwt.sign(data, secret);\n\nexport const verifyToken = (token, callback) => jwt.verify(token, secret, callback);","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"http\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"sequelize\");","module.exports = require(\"swagger-jsdoc\");","module.exports = require(\"swagger-ui-express\");"],"sourceRoot":""}